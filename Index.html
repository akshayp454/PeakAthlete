<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Peak Athlete | Advanced Sports Assessment Platform</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    <style>
        :root {
            --primary: #4361ee;
            --primary-dark: #3a56d4;
            --secondary: #7209b7;
            --accent: #f72585;
            --success: #4cc9f0;
            --warning: #ff9e00;
            --danger: #ef233c;
            --light: #f8f9fa;
            --dark: #212529;
            --gray: #6c757d;
            --light-gray: #e9ecef;
            
            --admin-gradient: linear-gradient(135deg, #4361ee, #3a0ca3);
            --teacher-gradient: linear-gradient(135deg, #7209b7, #560bad);
            --student-gradient: linear-gradient(135deg, #f72585, #b5179e);
            
            --border-radius: 12px;
            --box-shadow: 0 8px 30px rgba(0,0,0,0.12);
            --transition: all 0.3s ease;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Roboto', sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            color: var(--dark);
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        h1, h2, h3, h4, h5, h6 {
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
        }
        
        .container {
            width: 100%;
            max-width: 1600px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* Login Page Styling */
        .login-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }
        
        .login-card {
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            width: 100%;
            max-width: 500px;
            overflow: hidden;
            transition: var(--transition);
        }
        
        .login-header {
            padding: 30px;
            text-align: center;
            background: linear-gradient(135deg, #3a0ca3, #4361ee);
            color: white;
        }
        
        .login-header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .login-header p {
            opacity: 0.9;
        }
        
        .login-body {
            padding: 30px;
        }
        
        .user-type-selector {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-bottom: 30px;
        }
        
        .user-type-btn {
            padding: 15px;
            border: 2px solid var(--light-gray);
            border-radius: 10px;
            background: white;
            cursor: pointer;
            transition: var(--transition);
            text-align: center;
        }
        
        .user-type-btn i {
            font-size: 2rem;
            margin-bottom: 10px;
            display: block;
        }
        
        .user-type-btn.active {
            border-color: var(--primary);
            background: rgba(67, 97, 238, 0.05);
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(67, 97, 238, 0.1);
        }
        
        .user-type-btn.admin.active {
            border-color: var(--primary);
            background: rgba(67, 97, 238, 0.05);
        }
        
        .user-type-btn.teacher.active {
            border-color: var(--secondary);
            background: rgba(114, 9, 183, 0.05);
        }
        
        .user-type-btn.student.active {
            border-color: var(--accent);
            background: rgba(247, 37, 133, 0.05);
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }
        
        .form-control {
            width: 100%;
            padding: 15px;
            border: 1px solid var(--light-gray);
            border-radius: 8px;
            font-size: 1rem;
            transition: var(--transition);
        }
        
        .form-control:focus {
            border-color: var(--primary);
            outline: none;
            box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.2);
        }
        
        .btn {
            display: inline-block;
            padding: 15px 30px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            width: 100%;
            text-align: center;
        }
        
        .btn:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(67, 97, 238, 0.3);
        }
        
        .btn-teacher {
            background: var(--secondary);
        }
        
        .btn-teacher:hover {
            background: #5a08a0;
        }
        
        .btn-student {
            background: var(--accent);
        }
        
        .btn-student:hover {
            background: #e11576;
        }
        
        /* Dashboard Styling */
        .dashboard {
            display: none;
            min-height: 100vh;
        }
        
        .dashboard-header {
            background: white;
            padding: 20px 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.08);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary);
        }
        
        .user-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .user-avatar {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            color: white;
            font-size: 1.2rem;
        }
        
        .admin-avatar {
            background: var(--admin-gradient);
        }
        
        .teacher-avatar {
            background: var(--teacher-gradient);
        }
        
        .student-avatar {
            background: var(--student-gradient);
        }
        
        .logout-btn {
            padding: 8px 15px;
            background: var(--light-gray);
            border-radius: 6px;
            color: var(--dark);
            text-decoration: none;
            font-weight: 500;
            transition: var(--transition);
        }
        
        .logout-btn:hover {
            background: var(--danger);
            color: white;
        }
        
        .dashboard-content {
            padding: 30px 0;
        }
        
        .dashboard-title {
            margin-bottom: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .dashboard-title h2 {
            font-size: 2rem;
            background: linear-gradient(to right, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        /* Stats Cards */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }
        
        .stat-card {
            background: white;
            border-radius: var(--border-radius);
            padding: 25px;
            box-shadow: var(--box-shadow);
            transition: var(--transition);
            border-left: 5px solid var(--primary);
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.15);
        }
        
        .stat-card.pending {
            border-left-color: var(--warning);
        }
        
        .stat-card.completed {
            border-left-color: var(--success);
        }
        
        .stat-card.total {
            border-left-color: var(--secondary);
        }
        
        .stat-value {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 10px;
        }
        
        .stat-label {
            color: var(--gray);
            font-size: 1rem;
        }
        
        /* Charts Container */
        .charts-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }
        
        @media (max-width: 1100px) {
            .charts-container {
                grid-template-columns: 1fr;
            }
        }
        
        .chart-card {
            background: white;
            border-radius: var(--border-radius);
            padding: 25px;
            box-shadow: var(--box-shadow);
        }
        
        .chart-card h3 {
            margin-bottom: 20px;
            color: var(--dark);
        }
        
        /* Table Styling */
        .table-container {
            background: white;
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--box-shadow);
            margin-bottom: 40px;
            overflow-x: auto;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
        }
        
        thead {
            background: linear-gradient(to right, var(--primary), var(--secondary));
            color: white;
        }
        
        th {
            padding: 18px 15px;
            text-align: left;
            font-weight: 600;
        }
        
        tbody tr {
            border-bottom: 1px solid var(--light-gray);
            transition: var(--transition);
        }
        
        tbody tr:hover {
            background: rgba(67, 97, 238, 0.05);
        }
        
        td {
            padding: 15px;
        }
        
        /* Teacher Assessment Interface */
        .assessment-container {
            display: none;
        }
        
        .class-selector {
            background: white;
            border-radius: var(--border-radius);
            padding: 25px;
            box-shadow: var(--box-shadow);
            margin-bottom: 30px;
        }
        
        .selector-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .batch-selector {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }
        
        .batch-btn {
            padding: 10px 20px;
            background: var(--light-gray);
            border-radius: 6px;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .batch-btn.active {
            background: var(--primary);
            color: white;
        }
        
        .student-assessment-table {
            margin-top: 30px;
        }
        
        .score-input {
            width: 80px;
            padding: 8px;
            border: 1px solid var(--light-gray);
            border-radius: 4px;
            text-align: center;
        }
        
        .submit-assessment {
            margin-top: 30px;
            text-align: right;
        }
        
        /* Student Dashboard */
        .profile-header {
            background: white;
            border-radius: var(--border-radius);
            padding: 30px;
            box-shadow: var(--box-shadow);
            display: flex;
            align-items: center;
            gap: 30px;
            margin-bottom: 40px;
        }
        
        .profile-avatar {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: var(--student-gradient);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            color: white;
            font-weight: 700;
        }
        
        .profile-info h2 {
            font-size: 2rem;
            margin-bottom: 10px;
        }
        
        .sports-suggestion {
            background: white;
            border-radius: var(--border-radius);
            padding: 25px;
            box-shadow: var(--box-shadow);
            margin-bottom: 40px;
        }
        
        .sport-card {
            display: inline-block;
            padding: 15px 25px;
            margin: 10px;
            background: linear-gradient(to right, #4cc9f0, #4361ee);
            color: white;
            border-radius: 8px;
            font-weight: 600;
        }
        
        .coaches-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
        }
        
        .coach-card {
            background: white;
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--box-shadow);
            transition: var(--transition);
        }
        
        .coach-card:hover {
            transform: translateY(-10px);
        }
        
        .coach-header {
            padding: 25px;
            background: linear-gradient(to right, var(--primary), var(--secondary));
            color: white;
        }
        
        .coach-body {
            padding: 25px;
        }
        
        .coach-specialty {
            display: inline-block;
            padding: 5px 15px;
            background: var(--light-gray);
            border-radius: 20px;
            margin: 5px;
            font-size: 0.9rem;
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 15px;
            }
            
            .user-type-selector {
                grid-template-columns: 1fr;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .charts-container {
                grid-template-columns: 1fr;
            }
            
            .profile-header {
                flex-direction: column;
                text-align: center;
            }
            
            .selector-grid {
                grid-template-columns: 1fr;
            }
            
            .batch-selector {
                flex-wrap: wrap;
            }
        }
        
        /* Animation for login transition */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease forwards;
        }
    </style>
</head>
<body>
    <!-- Login Screen -->
    <div class="login-container" id="loginScreen">
        <div class="login-card">
            <div class="login-header">
                <h1><i class="fas fa-running"></i> Peak Athlete</h1>
                <p>Advanced Sports Assessment & Talent Identification Platform</p>
            </div>
            <div class="login-body">
                <div class="user-type-selector">
                    <div class="user-type-btn admin active" data-user="admin">
                        <i class="fas fa-user-tie"></i>
                        <h4>School Admin</h4>
                        <p>Principal / Administrator</p>
                    </div>
                    <div class="user-type-btn teacher" data-user="teacher">
                        <i class="fas fa-chalkboard-teacher"></i>
                        <h4>PE Teacher</h4>
                        <p>Physical Education Instructor</p>
                    </div>
                    <div class="user-type-btn student" data-user="student">
                        <i class="fas fa-user-graduate"></i>
                        <h4>Student</h4>
                        <p>Athlete / Student</p>
                    </div>
                </div>
                
                <form id="loginForm">
                    <div class="form-group">
                        <label for="username">Username / Email</label>
                        <input type="text" id="username" class="form-control" placeholder="Enter your username" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="password">Password</label>
                        <input type="password" id="password" class="form-control" placeholder="Enter your password" required>
                    </div>
                    
                    <button type="submit" class="btn" id="loginButton">Login as School Admin</button>
                </form>
                
                <div style="text-align: center; margin-top: 20px; color: var(--gray);">
                    <p>Demo Credentials: admin / teacher / student (Password: demo123)</p>
                </div>
            </div>
        </div>
    </div>
    
    <!-- School Admin Dashboard -->
    <div class="dashboard" id="adminDashboard">
        <div class="dashboard-header">
            <div class="container header-content">
                <div class="logo">Peak Athlete | Admin Dashboard</div>
                <div class="user-info">
                    <div class="user-avatar admin-avatar">PA</div>
                    <div>
                        <h4>Principal Anderson</h4>
                        <p>Greenwood High School</p>
                    </div>
                    <a href="#" class="logout-btn" id="adminLogout"><i class="fas fa-sign-out-alt"></i> Logout</a>
                </div>
            </div>
        </div>
        
        <div class="container dashboard-content">
            <div class="dashboard-title">
                <h2>School Sports Performance Dashboard</h2>
                <div>
                    <select id="schoolFilter" class="form-control" style="width: auto; display: inline-block;">
                        <option value="all">All Schools</option>
                        <option value="school1">Greenwood High School</option>
                        <option value="school2">Maplewood Academy</option>
                        <option value="school3">Riverside Public School</option>
                    </select>
                </div>
            </div>
            
            <div class="stats-grid">
                <div class="stat-card total">
                    <div class="stat-value" id="totalStudents">10,240</div>
                    <div class="stat-label">Total Students</div>
                    <p>Across 15 Schools</p>
                </div>
                
                <div class="stat-card completed">
                    <div class="stat-value" id="assessmentsCompleted">7,892</div>
                    <div class="stat-label">Assessments Conducted</div>
                    <p>77% Completion Rate</p>
                </div>
                
                <div class="stat-card pending">
                    <div class="stat-value" id="assessmentsPending">2,348</div>
                    <div class="stat-label">Assessments Pending</div>
                    <p>23% Remaining</p>
                </div>
                
                <div class="stat-card">
                    <div class="stat-value" id="avgAprScore">74.2</div>
                    <div class="stat-label">Average APR Score</div>
                    <p>Athlete Potential Rating</p>
                </div>
            </div>
            
            <div class="charts-container">
                <div class="chart-card">
                    <h3>Assessment Status by School</h3>
                    <canvas id="assessmentChart" height="250"></canvas>
                </div>
                
                <div class="chart-card">
                    <h3>Sports Performance Comparison</h3>
                    <div id="performanceChart" style="height: 300px;"></div>
                </div>
            </div>
            
            <div class="chart-card">
                <h3>PE Teacher Assignments</h3>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Teacher</th>
                                <th>School</th>
                                <th>Assigned Classes</th>
                                <th>Students Assessed</th>
                                <th>Avg. APR Score</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody id="teacherTable">
                            <!-- Teacher data will be populated here -->
                        </tbody>
                    </table>
                </div>
            </div>
            
            <div class="charts-container">
                <div class="chart-card">
                    <h3>Leaderboard - Top Performing Schools</h3>
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Rank</th>
                                    <th>School</th>
                                    <th>Avg. APR</th>
                                    <th>Top Sport</th>
                                    <th>High Potential Athletes</th>
                                </tr>
                            </thead>
                            <tbody id="schoolLeaderboard">
                                <!-- School leaderboard data will be populated here -->
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <div class="chart-card">
                    <h3>Sports Distribution in School</h3>
                    <canvas id="sportsDistributionChart" height="250"></canvas>
                </div>
            </div>
        </div>
    </div>
    
    <!-- PE Teacher Dashboard -->
    <div class="dashboard" id="teacherDashboard">
        <div class="dashboard-header">
            <div class="container header-content">
                <div class="logo">Peak Athlete | Teacher Dashboard</div>
                <div class="user-info">
                    <div class="user-avatar teacher-avatar">MJ</div>
                    <div>
                        <h4>Mr. Michael Johnson</h4>
                        <p>PE Teacher - Greenwood High School</p>
                    </div>
                    <a href="#" class="logout-btn" id="teacherLogout"><i class="fas fa-sign-out-alt"></i> Logout</a>
                </div>
            </div>
        </div>
        
        <div class="container dashboard-content">
            <div class="dashboard-title">
                <h2>Physical Education Assessment Portal</h2>
                <div>
                    <button class="btn btn-teacher" id="newAssessmentBtn"><i class="fas fa-plus"></i> New Assessment</button>
                </div>
            </div>
            
            <div class="stats-grid">
                <div class="stat-card total">
                    <div class="stat-value" id="teacherTotalStudents">620</div>
                    <div class="stat-label">Assigned Students</div>
                    <p>Classes 6-10, Sections A-E</p>
                </div>
                
                <div class="stat-card completed">
                    <div class="stat-value" id="teacherAssessmentsCompleted">485</div>
                    <div class="stat-label">Assessments Completed</div>
                    <p>78% Completion Rate</p>
                </div>
                
                <div class="stat-card pending">
                    <div class="stat-value" id="teacherAssessmentsPending">135</div>
                    <div class="stat-label">Assessments Pending</div>
                    <p>22% Remaining</p>
                </div>
                
                <div class="stat-card">
                    <div class="stat-value" id="teacherAvgApr">76.8</div>
                    <div class="stat-label">Average APR Score</div>
                    <p>Your Students</p>
                </div>
            </div>
            
            <!-- Assessment Interface (Initially Hidden) -->
            <div class="assessment-container" id="assessmentInterface">
                <div class="class-selector">
                    <h3>Select Class & Section for Assessment</h3>
                    <div class="selector-grid">
                        <div class="form-group">
                            <label for="classSelect">Class</label>
                            <select id="classSelect" class="form-control">
                                <option value="">Select Class</option>
                                <option value="6">Class 6</option>
                                <option value="7">Class 7</option>
                                <option value="8">Class 8</option>
                                <option value="9">Class 9</option>
                                <option value="10">Class 10</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="sectionSelect">Section</label>
                            <select id="sectionSelect" class="form-control">
                                <option value="">Select Section</option>
                                <option value="A">Section A</option>
                                <option value="B">Section B</option>
                                <option value="C">Section C</option>
                                <option value="D">Section D</option>
                                <option value="E">Section E</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="genderSelect">Gender</label>
                            <select id="genderSelect" class="form-control">
                                <option value="all">All Students</option>
                                <option value="boys">Boys Only</option>
                                <option value="girls">Girls Only</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="batch-selector">
                        <p style="margin-right: 15px; font-weight: 500;">Assessment Batch:</p>
                        <div class="batch-btn active" data-batch="1">Batch 1 (1-10)</div>
                        <div class="batch-btn" data-batch="2">Batch 2 (11-20)</div>
                        <div class="batch-btn" data-batch="3">Batch 3 (21-30)</div>
                    </div>
                </div>
                
                <div class="chart-card student-assessment-table">
                    <h3>Student Assessment Data Entry</h3>
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Student Name</th>
                                    <th>Shuttle Run (sec)</th>
                                    <th>Zig-Zag Run (sec)</th>
                                    <th>Standing Broad Jump (cm)</th>
                                    <th>Push-Ups (30s)</th>
                                    <th>Wall Toss (catches)</th>
                                    <th>Plank Hold (sec)</th>
                                    <th>Single-Leg Balance (sec)</th>
                                    <th>APR Score</th>
                                </tr>
                            </thead>
                            <tbody id="assessmentTable">
                                <!-- Assessment table rows will be populated here -->
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="submit-assessment">
                        <button class="btn btn-teacher" id="submitAssessmentBtn"><i class="fas fa-check-circle"></i> Submit Assessment Data</button>
                    </div>
                </div>
            </div>
            
            <!-- Teacher Dashboard Content -->
            <div class="charts-container">
                <div class="chart-card">
                    <h3>Class-wise Performance Overview</h3>
                    <canvas id="classPerformanceChart" height="250"></canvas>
                </div>
                
                <div class="chart-card">
                    <h3>Top 10 Students by APR Score</h3>
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Rank</th>
                                    <th>Student Name</th>
                                    <th>Class & Section</th>
                                    <th>APR Score</th>
                                    <th>Suggested Sports</th>
                                </tr>
                            </thead>
                            <tbody id="topStudentsTable">
                                <!-- Top students data will be populated here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            
            <div class="chart-card">
                <h3>Recent Assessment History</h3>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Class & Section</th>
                                <th>Students Assessed</th>
                                <th>Avg. APR Score</th>
                                <th>Top Performer</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody id="assessmentHistoryTable">
                            <!-- Assessment history data will be populated here -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Student Dashboard -->
    <div class="dashboard" id="studentDashboard">
        <div class="dashboard-header">
            <div class="container header-content">
                <div class="logo">Peak Athlete | Student Portal</div>
                <div class="user-info">
                    <div class="user-avatar student-avatar">RS</div>
                    <div>
                        <h4>Rohan Sharma</h4>
                        <p>Class 9A - Greenwood High School</p>
                    </div>
                    <a href="#" class="logout-btn" id="studentLogout"><i class="fas fa-sign-out-alt"></i> Logout</a>
                </div>
            </div>
        </div>
        
        <div class="container dashboard-content">
            <div class="profile-header">
                <div class="profile-avatar">RS</div>
                <div class="profile-info">
                    <h2>Rohan Sharma</h2>
                    <p><strong>Class 9A</strong> | Greenwood High School | Age: 14</p>
                    <p><strong>Athlete Potential Rating (APR):</strong> <span style="color: var(--primary); font-weight: 700; font-size: 1.2rem;">82.4</span> / 100</p>
                    <p><strong>Physical Profiling Score (PPS):</strong> <span style="color: var(--secondary); font-weight: 700; font-size: 1.2rem;">78.9</span> / 100</p>
                </div>
            </div>
            
            <div class="charts-container">
                <div class="chart-card">
                    <h3>My Performance Metrics</h3>
                    <canvas id="studentPerformanceChart" height="250"></canvas>
                </div>
                
                <div class="chart-card">
                    <h3>Sports Leaderboard (Class 9A)</h3>
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Rank</th>
                                    <th>Student Name</th>
                                    <th>APR Score</th>
                                    <th>Top Sport</th>
                                    <th>Improvement</th>
                                </tr>
                            </thead>
                            <tbody id="studentLeaderboard">
                                <!-- Student leaderboard data will be populated here -->
                            </tbody>
                        </table>
                    </div>
                    <p style="margin-top: 15px; text-align: center; font-weight: 500;">Your Rank: <span style="color: var(--primary);">#3</span> out of 42 students</p>
                </div>
            </div>
            
            <div class="sports-suggestion">
                <h3>Recommended Sports for You</h3>
                <p style="margin-bottom: 20px;">Based on your physical assessment and APR score, you have high potential in the following sports:</p>
                
                <div class="sport-card" style="background: linear-gradient(to right, #3a0ca3, #4361ee);">Basketball</div>
                <div class="sport-card" style="background: linear-gradient(to right, #7209b7, #560bad);">Athletics (Sprints)</div>
                <div class="sport-card" style="background: linear-gradient(to right, #f72585, #b5179e);">Badminton</div>
                <div class="sport-card" style="background: linear-gradient(to right, #4cc9f0, #4895ef);">Swimming</div>
                
                <div style="margin-top: 30px; padding: 20px; background: #f8f9fa; border-radius: 8px;">
                    <h4><i class="fas fa-dumbbell"></i> Training Plan Overview</h4>
                    <p><strong>Weekly Training Schedule:</strong> 4 days strength & conditioning, 2 days sport-specific skills, 1 day active recovery</p>
                    <p><strong>Key Focus Areas:</strong> Agility drills, explosive power, endurance training</p>
                    <p><strong>Recommended Coaches:</strong> See below for specialized coaches in your area</p>
                </div>
            </div>
            
            <div class="chart-card">
                <h3>Find a Coach</h3>
                <div class="selector-grid" style="margin-bottom: 20px;">
                    <div class="form-group">
                        <label for="sportFilter">Sport</label>
                        <select id="sportFilter" class="form-control">
                            <option value="all">All Sports</option>
                            <option value="basketball">Basketball</option>
                            <option value="athletics">Athletics</option>
                            <option value="badminton">Badminton</option>
                            <option value="swimming">Swimming</option>
                            <option value="football">Football</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="areaFilter">Area</label>
                        <select id="areaFilter" class="form-control">
                            <option value="all">All Areas</option>
                            <option value="north">North City</option>
                            <option value="south">South City</option>
                            <option value="east">East City</option>
                            <option value="west">West City</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="experienceFilter">Experience</label>
                        <select id="experienceFilter" class="form-control">
                            <option value="all">All Levels</option>
                            <option value="beginner">Beginner</option>
                            <option value="intermediate">Intermediate</option>
                            <option value="advanced">Advanced</option>
                        </select>
                    </div>
                </div>
                
                <div class="coaches-grid" id="coachesList">
                    <!-- Coaches will be populated here -->
                </div>
            </div>
            
            <div class="chart-card">
                <h3>Upcoming Sports Events</h3>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Event Name</th>
                                <th>Sport</th>
                                <th>Date</th>
                                <th>Location</th>
                                <th>Eligibility</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody id="eventsTable">
                            <!-- Events will be populated here -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Global Data Storage
        const dummyData = {
            schools: [],
            students: [],
            teachers: [],
            coaches: [],
            assessments: []
        };
        
        // DOM Elements
        const loginScreen = document.getElementById('loginScreen');
        const adminDashboard = document.getElementById('adminDashboard');
        const teacherDashboard = document.getElementById('teacherDashboard');
        const studentDashboard = document.getElementById('studentDashboard');
        const userTypeBtns = document.querySelectorAll('.user-type-btn');
        const loginForm = document.getElementById('loginForm');
        const loginButton = document.getElementById('loginButton');
        const assessmentInterface = document.getElementById('assessmentInterface');
        const newAssessmentBtn = document.getElementById('newAssessmentBtn');
        
        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            // Generate dummy data
            generateDummyData();
            
            // Set up event listeners
            setupEventListeners();
            
            // Set default active user type
            setActiveUserType('admin');
        });
        
        // Generate dummy data for 10,000 students, 100 coaches, 15 schools
        function generateDummyData() {
            // Generate 15 schools
            const schoolNames = [
                "Greenwood High School", "Maplewood Academy", "Riverside Public School",
                "Sunshine International", "Golden Valley School", "Pinecrest Elementary",
                "Oakridge Secondary", "Westwood College", "Eastside High", "Northstar Academy",
                "Springfield Public School", "Hilltop International", "Brookfield School",
                "Cedarwood Academy", "Lakeside School"
            ];
            
            const schoolLocations = ["North City", "South City", "East City", "West City", "Central City"];
            
            for (let i = 0; i < 15; i++) {
                dummyData.schools.push({
                    id: i + 1,
                    name: schoolNames[i],
                    location: schoolLocations[i % schoolLocations.length],
                    totalStudents: Math.floor(Math.random() * 800) + 500,
                    assessmentsCompleted: Math.floor(Math.random() * 600) + 300,
                    avgAprScore: Math.floor(Math.random() * 20) + 70,
                    topSports: ["Basketball", "Football", "Athletics", "Swimming", "Badminton"].sort(() => 0.5 - Math.random()).slice(0, 3)
                });
            }
            
            // Generate 100 coaches
            const firstNames = ["Alex", "Jordan", "Taylor", "Morgan", "Casey", "Riley", "Dakota", "Jamie", "Quinn", "Skyler"];
            const lastNames = ["Smith", "Johnson", "Williams", "Brown", "Jones", "Garcia", "Miller", "Davis", "Rodriguez", "Martinez"];
            const sports = ["Basketball", "Football", "Athletics", "Swimming", "Badminton", "Tennis", "Cricket", "Volleyball", "Gymnastics", "Martial Arts"];
            const expertiseLevels = ["Beginner", "Intermediate", "Advanced"];
            
            for (let i = 0; i < 100; i++) {
                const firstName = firstNames[Math.floor(Math.random() * firstNames.length)];
                const lastName = lastNames[Math.floor(Math.random() * lastNames.length)];
                const sport = sports[Math.floor(Math.random() * sports.length)];
                const expertise = expertiseLevels[Math.floor(Math.random() * expertiseLevels.length)];
                const location = schoolLocations[Math.floor(Math.random() * schoolLocations.length)];
                
                dummyData.coaches.push({
                    id: i + 1,
                    name: `${firstName} ${lastName}`,
                    sport: sport,
                    expertise: expertise,
                    location: location,
                    experience: `${Math.floor(Math.random() * 15) + 3} years`,
                    rating: (Math.random() * 2 + 3).toFixed(1), // 3.0 to 5.0
                    hourlyRate: `$${Math.floor(Math.random() * 50) + 30}`,
                    specialties: [`${sport} Training`, "Strength & Conditioning", "Skill Development"].sort(() => 0.5 - Math.random()).slice(0, 2)
                });
            }
            
            // Generate 10000 students (simplified - not all in memory at once for performance)
            // We'll generate sample data for display purposes
            const studentFirstNames = ["Rohan", "Aarav", "Vivaan", "Aditya", "Vihaan", "Arjun", "Sai", "Ayaan", "Krishna", "Ishaan"];
            const studentLastNames = ["Sharma", "Verma", "Singh", "Patel", "Kumar", "Reddy", "Gupta", "Joshi", "Malhotra", "Choudhary"];
            const studentGenders = ["Boy", "Girl"];
            
            // For demo, we'll generate 50 sample students
            for (let i = 0; i < 50; i++) {
                const firstName = studentFirstNames[Math.floor(Math.random() * studentFirstNames.length)];
                const lastName = studentLastNames[Math.floor(Math.random() * studentLastNames.length)];
                const gender = studentGenders[Math.floor(Math.random() * studentGenders.length)];
                const schoolId = Math.floor(Math.random() * 15) + 1;
                const className = Math.floor(Math.random() * 5) + 6; // Classes 6-10
                const section = String.fromCharCode(65 + Math.floor(Math.random() * 5)); // A-E
                
                dummyData.students.push({
                    id: i + 1,
                    name: `${firstName} ${lastName}`,
                    gender: gender,
                    schoolId: schoolId,
                    className: `Class ${className}`,
                    section: section,
                    aprScore: Math.floor(Math.random() * 30) + 65,
                    ppsScore: Math.floor(Math.random() * 30) + 65,
                    suggestedSports: ["Basketball", "Football", "Athletics", "Swimming", "Badminton"].sort(() => 0.5 - Math.random()).slice(0, 2)
                });
            }
            
            // Generate sample assessments
            for (let i = 0; i < 20; i++) {
                const date = new Date();
                date.setDate(date.getDate() - Math.floor(Math.random() * 30));
                
                dummyData.assessments.push({
                    id: i + 1,
                    date: date.toLocaleDateString(),
                    teacher: `Teacher ${i % 5 + 1}`,
                    className: `Class ${Math.floor(Math.random() * 5) + 6}`,
                    section: String.fromCharCode(65 + Math.floor(Math.random() * 5)),
                    studentsAssessed: Math.floor(Math.random() * 20) + 10,
                    avgAprScore: Math.floor(Math.random() * 20) + 70,
                    topPerformer: dummyData.students[Math.floor(Math.random() * dummyData.students.length)].name,
                    status: Math.random() > 0.3 ? "Completed" : "Pending"
                });
            }
            
            // Generate sample teachers
            for (let i = 0; i < 10; i++) {
                dummyData.teachers.push({
                    id: i + 1,
                    name: `Teacher ${["Michael", "Sarah", "David", "Emily", "James"][i % 5]} ${["Johnson", "Williams", "Brown", "Jones", "Davis"][i % 5]}`,
                    school: dummyData.schools[i % dummyData.schools.length].name,
                    assignedClasses: [`${Math.floor(Math.random() * 5) + 6}A`, `${Math.floor(Math.random() * 5) + 6}B`, `${Math.floor(Math.random() * 5) + 6}C`],
                    studentsAssessed: Math.floor(Math.random() * 200) + 100,
                    avgAprScore: Math.floor(Math.random() * 20) + 70,
                    status: Math.random() > 0.2 ? "Active" : "Inactive"
                });
            }
        }
        
        // Set up all event listeners
        function setupEventListeners() {
            // User type selection
            userTypeBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    const userType = this.getAttribute('data-user');
                    setActiveUserType(userType);
                });
            });
            
            // Login form submission
            loginForm.addEventListener('submit', function(e) {
                e.preventDefault();
                const username = document.getElementById('username').value;
                const password = document.getElementById('password').value;
                
                // Simple validation
                if (username && password) {
                    loginUser();
                }
            });
            
            // Logout buttons
            document.getElementById('adminLogout').addEventListener('click', logoutUser);
            document.getElementById('teacherLogout').addEventListener('click', logoutUser);
            document.getElementById('studentLogout').addEventListener('click', logoutUser);
            
            // Teacher dashboard - new assessment button
            newAssessmentBtn.addEventListener('click', function() {
                assessmentInterface.style.display = 'block';
                populateAssessmentTable();
            });
            
            // Teacher assessment - class selection
            document.getElementById('classSelect').addEventListener('change', populateAssessmentTable);
            document.getElementById('sectionSelect').addEventListener('change', populateAssessmentTable);
            document.getElementById('genderSelect').addEventListener('change', populateAssessmentTable);
            
            // Teacher assessment - batch selection
            document.querySelectorAll('.batch-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.batch-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    populateAssessmentTable();
                });
            });
            
            // Submit assessment button
            document.getElementById('submitAssessmentBtn').addEventListener('click', submitAssessment);
            
            // Student dashboard - coach filters
            document.getElementById('sportFilter').addEventListener('change', populateCoaches);
            document.getElementById('areaFilter').addEventListener('change', populateCoaches);
            document.getElementById('experienceFilter').addEventListener('change', populateCoaches);
        }
        
        // Set active user type in login screen
        function setActiveUserType(userType) {
            userTypeBtns.forEach(btn => btn.classList.remove('active'));
            document.querySelector(`.user-type-btn.${userType}`).classList.add('active');
            
            // Update login button text and color
            loginButton.textContent = `Login as ${userType === 'admin' ? 'School Admin' : userType === 'teacher' ? 'PE Teacher' : 'Student'}`;
            loginButton.className = `btn ${userType === 'admin' ? '' : userType === 'teacher' ? 'btn-teacher' : 'btn-student'}`;
            
            // Update form placeholder based on user type
            const usernameInput = document.getElementById('username');
            if (userType === 'admin') {
                usernameInput.placeholder = 'Enter admin username';
            } else if (userType === 'teacher') {
                usernameInput.placeholder = 'Enter teacher email';
            } else {
                usernameInput.placeholder = 'Enter student ID';
            }
        }
        
        // Handle user login
        function loginUser() {
            const activeUserType = document.querySelector('.user-type-btn.active').getAttribute('data-user');
            
            // Hide login screen
            loginScreen.style.display = 'none';
            
            // Show appropriate dashboard
            if (activeUserType === 'admin') {
                adminDashboard.style.display = 'block';
                initializeAdminDashboard();
            } else if (activeUserType === 'teacher') {
                teacherDashboard.style.display = 'block';
                initializeTeacherDashboard();
            } else {
                studentDashboard.style.display = 'block';
                initializeStudentDashboard();
            }
            
            // Add fade-in animation
            document.querySelector('.dashboard').classList.add('fade-in');
        }
        
        // Handle user logout
        function logoutUser(e) {
            e.preventDefault();
            
            // Hide all dashboards
            adminDashboard.style.display = 'none';
            teacherDashboard.style.display = 'none';
            studentDashboard.style.display = 'none';
            
            // Show login screen
            loginScreen.style.display = 'flex';
            loginScreen.classList.add('fade-in');
            
            // Reset login form
            loginForm.reset();
        }
        
        // Initialize admin dashboard
        function initializeAdminDashboard() {
            // Populate teacher table
            populateTeacherTable();
            
            // Populate school leaderboard
            populateSchoolLeaderboard();
            
            // Initialize charts
            initializeAdminCharts();
        }
        
        // Populate teacher table in admin dashboard
        function populateTeacherTable() {
            const tableBody = document.getElementById('teacherTable');
            tableBody.innerHTML = '';
            
            dummyData.teachers.forEach(teacher => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${teacher.name}</td>
                    <td>${teacher.school}</td>
                    <td>${teacher.assignedClasses.join(', ')}</td>
                    <td>${teacher.studentsAssessed}</td>
                    <td>${teacher.avgAprScore}</td>
                    <td><span style="color: ${teacher.status === 'Active' ? 'var(--success)' : 'var(--danger)'}">${teacher.status}</span></td>
                `;
                tableBody.appendChild(row);
            });
        }
        
        // Populate school leaderboard
        function populateSchoolLeaderboard() {
            const tableBody = document.getElementById('schoolLeaderboard');
            tableBody.innerHTML = '';
            
            // Sort schools by avgAprScore
            const sortedSchools = [...dummyData.schools].sort((a, b) => b.avgAprScore - a.avgAprScore);
            
            sortedSchools.forEach((school, index) => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${index + 1}</td>
                    <td>${school.name}</td>
                    <td>${school.avgAprScore.toFixed(1)}</td>
                    <td>${school.topSports[0]}</td>
                    <td>${Math.floor(school.totalStudents * 0.15)}</td>
                `;
                tableBody.appendChild(row);
            });
        }
        
        // Initialize admin charts
        function initializeAdminCharts() {
            // Assessment Status Chart
            const assessmentCtx = document.getElementById('assessmentChart').getContext('2d');
            const assessmentChart = new Chart(assessmentCtx, {
                type: 'bar',
                data: {
                    labels: dummyData.schools.slice(0, 8).map(s => s.name.substring(0, 12) + '...'),
                    datasets: [
                        {
                            label: 'Assessments Completed',
                            data: dummyData.schools.slice(0, 8).map(s => s.assessmentsCompleted),
                            backgroundColor: 'rgba(67, 97, 238, 0.7)',
                            borderColor: 'rgba(67, 97, 238, 1)',
                            borderWidth: 1
                        },
                        {
                            label: 'Assessments Pending',
                            data: dummyData.schools.slice(0, 8).map(s => s.totalStudents - s.assessmentsCompleted),
                            backgroundColor: 'rgba(255, 158, 0, 0.7)',
                            borderColor: 'rgba(255, 158, 0, 1)',
                            borderWidth: 1
                        }
                    ]
                },
                options: {
                    responsive: true,
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Number of Students'
                            }
                        }
                    }
                }
            });
            
            // Sports Distribution Chart
            const sportsCtx = document.getElementById('sportsDistributionChart').getContext('2d');
            const sportsChart = new Chart(sportsCtx, {
                type: 'doughnut',
                data: {
                    labels: ['Basketball', 'Football', 'Athletics', 'Swimming', 'Badminton', 'Other'],
                    datasets: [{
                        data: [25, 20, 18, 15, 12, 10],
                        backgroundColor: [
                            '#4361ee',
                            '#7209b7',
                            '#f72585',
                            '#4cc9f0',
                            '#ff9e00',
                            '#6c757d'
                        ]
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'bottom'
                        }
                    }
                }
            });
            
            // Performance Comparison Chart (using ApexCharts)
            const performanceChart = new ApexCharts(document.querySelector("#performanceChart"), {
                series: [{
                    name: 'Greenwood High School',
                    data: [82, 78, 85, 76, 88, 79, 84]
                }, {
                    name: 'Maplewood Academy',
                    data: [76, 72, 80, 74, 79, 75, 78]
                }, {
                    name: 'Riverside Public School',
                    data: [79, 75, 82, 77, 81, 76, 80]
                }],
                chart: {
                    height: 300,
                    type: 'radar',
                    dropShadow: {
                        enabled: true,
                        blur: 1,
                        left: 1,
                        top: 1
                    }
                },
                title: {
                    text: ''
                },
                stroke: {
                    width: 2
                },
                fill: {
                    opacity: 0.1
                },
                markers: {
                    size: 0
                },
                xaxis: {
                    categories: ['Speed', 'Agility', 'Strength', 'Endurance', 'Flexibility', 'Coordination', 'Balance']
                }
            });
            
            performanceChart.render();
        }
        
        // Initialize teacher dashboard
        function initializeTeacherDashboard() {
            // Populate top students table
            populateTopStudentsTable();
            
            // Populate assessment history table
            populateAssessmentHistoryTable();
            
            // Initialize teacher charts
            initializeTeacherCharts();
        }
        
        // Populate top students table
        function populateTopStudentsTable() {
            const tableBody = document.getElementById('topStudentsTable');
            tableBody.innerHTML = '';
            
            // Get top 10 students by APR score
            const topStudents = [...dummyData.students]
                .sort((a, b) => b.aprScore - a.aprScore)
                .slice(0, 10);
            
            topStudents.forEach((student, index) => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${index + 1}</td>
                    <td>${student.name}</td>
                    <td>${student.className} ${student.section}</td>
                    <td>${student.aprScore}</td>
                    <td>${student.suggestedSports.join(', ')}</td>
                `;
                tableBody.appendChild(row);
            });
        }
        
        // Populate assessment history table
        function populateAssessmentHistoryTable() {
            const tableBody = document.getElementById('assessmentHistoryTable');
            tableBody.innerHTML = '';
            
            dummyData.assessments.forEach(assessment => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${assessment.date}</td>
                    <td>${assessment.className} ${assessment.section}</td>
                    <td>${assessment.studentsAssessed}</td>
                    <td>${assessment.avgAprScore}</td>
                    <td>${assessment.topPerformer}</td>
                    <td><span style="color: ${assessment.status === 'Completed' ? 'var(--success)' : 'var(--warning)'}">${assessment.status}</span></td>
                `;
                tableBody.appendChild(row);
            });
        }
        
        // Initialize teacher charts
        function initializeTeacherCharts() {
            const classCtx = document.getElementById('classPerformanceChart').getContext('2d');
            const classChart = new Chart(classCtx, {
                type: 'line',
                data: {
                    labels: ['Class 6', 'Class 7', 'Class 8', 'Class 9', 'Class 10'],
                    datasets: [{
                        label: 'Average APR Score',
                        data: [72, 75, 78, 76, 82],
                        borderColor: '#4361ee',
                        backgroundColor: 'rgba(67, 97, 238, 0.1)',
                        fill: true,
                        tension: 0.4
                    }, {
                        label: 'Average PPS Score',
                        data: [68, 72, 75, 74, 79],
                        borderColor: '#f72585',
                        backgroundColor: 'rgba(247, 37, 133, 0.1)',
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    scales: {
                        y: {
                            beginAtZero: false,
                            min: 60,
                            title: {
                                display: true,
                                text: 'Average Score'
                            }
                        }
                    }
                }
            });
        }
        
        // Populate assessment table for teacher
        function populateAssessmentTable() {
            const tableBody = document.getElementById('assessmentTable');
            tableBody.innerHTML = '';
            
            const classSelect = document.getElementById('classSelect').value;
            const sectionSelect = document.getElementById('sectionSelect').value;
            const genderSelect = document.getElementById('genderSelect').value;
            const batch = document.querySelector('.batch-btn.active').getAttribute('data-batch');
            
            // If class or section is not selected, don't populate table
            if (!classSelect || !sectionSelect) {
                const row = document.createElement('tr');
                row.innerHTML = `<td colspan="9" style="text-align: center; padding: 40px;">Please select both Class and Section to view students</td>`;
                tableBody.appendChild(row);
                return;
            }
            
            // Generate dummy student data for the selected class and section
            const studentFirstNames = ["Raj", "Aman", "Rahul", "Vikram", "Suresh", "Ankit", "Rohit", "Karan", "Neeraj", "Ravi"];
            const studentLastNames = ["Verma", "Singh", "Sharma", "Kumar", "Patel", "Yadav", "Jain", "Gupta", "Malhotra", "Reddy"];
            
            for (let i = 1; i <= 10; i++) {
                const studentNum = (batch - 1) * 10 + i;
                const firstName = studentFirstNames[(studentNum - 1) % studentFirstNames.length];
                const lastName = studentLastNames[(studentNum - 1) % studentLastNames.length];
                const gender = genderSelect === 'all' ? (Math.random() > 0.5 ? 'Boy' : 'Girl') : 
                               genderSelect === 'boys' ? 'Boy' : 'Girl';
                
                // Generate random scores for each test
                const shuttleRun = (Math.random() * 2 + 7).toFixed(1);
                const zigzagRun = (Math.random() * 3 + 8).toFixed(1);
                const broadJump = Math.floor(Math.random() * 50 + 150);
                const pushups = Math.floor(Math.random() * 15 + 10);
                const wallToss = Math.floor(Math.random() * 10 + 15);
                const plankHold = Math.floor(Math.random() * 40 + 30);
                const balance = Math.floor(Math.random() * 40 + 30);
                
                // Calculate APR score (simplified formula)
                const aprScore = calculateAprScore(shuttleRun, zigzagRun, broadJump, pushups, wallToss, plankHold, balance);
                
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${firstName} ${lastName} (${gender})</td>
                    <td><input type="number" step="0.1" class="score-input" value="${shuttleRun}"></td>
                    <td><input type="number" step="0.1" class="score-input" value="${zigzagRun}"></td>
                    <td><input type="number" class="score-input" value="${broadJump}"></td>
                    <td><input type="number" class="score-input" value="${pushups}"></td>
                    <td><input type="number" class="score-input" value="${wallToss}"></td>
                    <td><input type="number" class="score-input" value="${plankHold}"></td>
                    <td><input type="number" class="score-input" value="${balance}"></td>
                    <td><strong>${aprScore.toFixed(1)}</strong></td>
                `;
                tableBody.appendChild(row);
            }
        }
        
        // Calculate APR score based on test results
        function calculateAprScore(shuttleRun, zigzagRun, broadJump, pushups, wallToss, plankHold, balance) {
            // Normalize each score to a 0-100 scale based on ideal values
            const shuttleRunScore = Math.max(0, 100 - (shuttleRun - 7) * 20);
            const zigzagRunScore = Math.max(0, 100 - (zigzagRun - 8) * 15);
            const broadJumpScore = Math.min(100, (broadJump - 120) / 1.5);
            const pushupsScore = Math.min(100, pushups * 3);
            const wallTossScore = Math.min(100, wallToss * 4);
            const plankHoldScore = Math.min(100, plankHold / 0.8);
            const balanceScore = Math.min(100, balance);
            
            // Weighted average
            return (shuttleRunScore * 0.15 + zigzagRunScore * 0.15 + broadJumpScore * 0.15 + 
                    pushupsScore * 0.15 + wallTossScore * 0.15 + plankHoldScore * 0.15 + balanceScore * 0.1);
        }
        
        // Submit assessment data
        function submitAssessment() {
            // Get all score inputs
            const scoreInputs = document.querySelectorAll('.score-input');
            let allFilled = true;
            
            // Validate all inputs are filled
            scoreInputs.forEach(input => {
                if (!input.value || input.value.trim() === '') {
                    allFilled = false;
                    input.style.borderColor = 'var(--danger)';
                } else {
                    input.style.borderColor = '';
                }
            });
            
            if (!allFilled) {
                alert('Please fill in all assessment scores before submitting.');
                return;
            }
            
            // Show success message
            alert('Assessment data submitted successfully! APR scores calculated and reports generated.');
            
            // Hide assessment interface
            assessmentInterface.style.display = 'none';
            
            // Update teacher dashboard stats
            document.getElementById('teacherAssessmentsCompleted').textContent = 
                parseInt(document.getElementById('teacherAssessmentsCompleted').textContent) + 10;
            document.getElementById('teacherAssessmentsPending').textContent = 
                parseInt(document.getElementById('teacherAssessmentsPending').textContent) - 10;
        }
        
        // Initialize student dashboard
        function initializeStudentDashboard() {
            // Populate student leaderboard
            populateStudentLeaderboard();
            
            // Populate coaches list
            populateCoaches();
            
            // Populate events table
            populateEventsTable();
            
            // Initialize student charts
            initializeStudentCharts();
        }
        
        // Populate student leaderboard
        function populateStudentLeaderboard() {
            const tableBody = document.getElementById('studentLeaderboard');
            tableBody.innerHTML = '';
            
            // Get students from Class 9A (simulated)
            const class9AStudents = dummyData.students
                .filter(s => s.className === 'Class 9' && s.section === 'A')
                .sort((a, b) => b.aprScore - a.aprScore)
                .slice(0, 10);
            
            class9AStudents.forEach((student, index) => {
                const row = document.createElement('tr');
                const improvement = Math.random() > 0.5 ? `+${Math.floor(Math.random() * 5)}` : `-${Math.floor(Math.random() * 3)}`;
                const improvementColor = improvement.startsWith('+') ? 'var(--success)' : 'var(--danger)';
                
                row.innerHTML = `
                    <td>${index + 1}</td>
                    <td>${student.name} ${index === 2 ? '<strong>(You)</strong>' : ''}</td>
                    <td>${student.aprScore}</td>
                    <td>${student.suggestedSports[0]}</td>
                    <td style="color: ${improvementColor}">${improvement}</td>
                `;
                tableBody.appendChild(row);
            });
        }
        
        // Populate coaches list with filters
        function populateCoaches() {
            const coachesList = document.getElementById('coachesList');
            coachesList.innerHTML = '';
            
            const sportFilter = document.getElementById('sportFilter').value;
            const areaFilter = document.getElementById('areaFilter').value;
            const experienceFilter = document.getElementById('experienceFilter').value;
            
            // Filter coaches
            const filteredCoaches = dummyData.coaches.filter(coach => {
                return (sportFilter === 'all' || coach.sport.toLowerCase() === sportFilter) &&
                       (areaFilter === 'all' || coach.location.toLowerCase().includes(areaFilter)) &&
                       (experienceFilter === 'all' || coach.expertise.toLowerCase() === experienceFilter);
            }).slice(0, 6); // Show only 6 coaches at a time
            
            if (filteredCoaches.length === 0) {
                coachesList.innerHTML = '<p style="grid-column: 1/-1; text-align: center; padding: 40px;">No coaches found matching your criteria. Try adjusting your filters.</p>';
                return;
            }
            
            filteredCoaches.forEach(coach => {
                const coachCard = document.createElement('div');
                coachCard.className = 'coach-card';
                coachCard.innerHTML = `
                    <div class="coach-header">
                        <h3>${coach.name}</h3>
                        <p>${coach.sport} Coach  ${coach.expertise} Level</p>
                    </div>
                    <div class="coach-body">
                        <p><i class="fas fa-map-marker-alt"></i> ${coach.location}</p>
                        <p><i class="fas fa-clock"></i> ${coach.experience} experience</p>
                        <p><i class="fas fa-star"></i> ${coach.rating}/5.0 rating</p>
                        <p><i class="fas fa-money-bill-wave"></i> ${coach.hourlyRate}/hour</p>
                        <div style="margin-top: 15px;">
                            ${coach.specialties.map(specialty => `<span class="coach-specialty">${specialty}</span>`).join('')}
                        </div>
                        <button class="btn" style="margin-top: 20px; width: 100%; background: var(--secondary);">Contact Coach</button>
                    </div>
                `;
                coachesList.appendChild(coachCard);
            });
        }
        
        // Populate events table
        function populateEventsTable() {
            const tableBody = document.getElementById('eventsTable');
            tableBody.innerHTML = '';
            
            const events = [
                { name: "Inter-School Athletics Meet", sport: "Athletics", date: "2023-10-15", location: "City Stadium", eligibility: "APR > 75" },
                { name: "District Basketball Championship", sport: "Basketball", date: "2023-11-05", location: "Sports Complex", eligibility: "Class 8-10" },
                { name: "State Swimming Competition", sport: "Swimming", date: "2023-11-20", location: "Aquatic Center", eligibility: "Qualifying Time" },
                { name: "Junior Badminton Tournament", sport: "Badminton", date: "2023-12-10", location: "Indoor Stadium", eligibility: "Under 16" },
                { name: "School Sports Day", sport: "Multiple", date: "2023-09-28", location: "School Ground", eligibility: "All Students" }
            ];
            
            events.forEach(event => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${event.name}</td>
                    <td>${event.sport}</td>
                    <td>${event.date}</td>
                    <td>${event.location}</td>
                    <td>${event.eligibility}</td>
                    <td><button class="btn" style="padding: 8px 15px; background: var(--accent);">Participate</button></td>
                `;
                tableBody.appendChild(row);
            });
        }
        
        // Initialize student charts
        function initializeStudentCharts() {
            const studentCtx = document.getElementById('studentPerformanceChart').getContext('2d');
            const studentChart = new Chart(studentCtx, {
                type: 'radar',
                data: {
                    labels: ['Shuttle Run', 'Zig-Zag Run', 'Broad Jump', 'Push-Ups', 'Wall Toss', 'Plank Hold', 'Balance'],
                    datasets: [{
                        label: 'Your Scores',
                        data: [8.2, 9.5, 180, 20, 18, 55, 45],
                        backgroundColor: 'rgba(67, 97, 238, 0.2)',
                        borderColor: 'rgba(67, 97, 238, 1)',
                        pointBackgroundColor: 'rgba(67, 97, 238, 1)'
                    }, {
                        label: 'Class Average',
                        data: [8.8, 10.2, 165, 16, 15, 48, 38],
                        backgroundColor: 'rgba(247, 37, 133, 0.2)',
                        borderColor: 'rgba(247, 37, 133, 1)',
                        pointBackgroundColor: 'rgba(247, 37, 133, 1)'
                    }]
                },
                options: {
                    responsive: true,
                    scales: {
                        r: {
                            angleLines: {
                                display: true
                            },
                            suggestedMin: 0,
                            suggestedMax: 100
                        }
                    }
                }
            });
        }
    </script>
</body>
</html>